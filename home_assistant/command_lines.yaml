- binary_sensor:
  # https://github.com/home-assistant/core/issues/43188
  # https://github.com/home-assistant/core/pull/43869
    name: CCTV
    command: 'ping -n -q -W 1 -c 1 securitypi.local > /dev/null 2>&1 && echo success || echo fail'
    device_class: connectivity
    payload_on: "success"
    payload_off: "fail"
    scan_interval: 30

- binary_sensor:
    name: Thor
    command: 'ping -n -q -W 1 -c 1 thor.local > /dev/null 2>&1 && echo success || echo fail'
    device_class: connectivity
    payload_on: "success"
    payload_off: "fail"
    scan_interval: 30

- binary_sensor:
    name: Rasplay
    command: 'ping -n -q -W 1 -c 1 rasplay.local > /dev/null 2>&1 && echo success || echo fail'
    device_class: connectivity
    payload_on: "success"
    payload_off: "fail"
    scan_interval: 30

- binary_sensor:
    name: Rasplex
    command: 'ping -n -q -W 1 -c 1 rasplex.local > /dev/null 2>&1 && echo success || echo fail'
    device_class: connectivity
    payload_on: "success"
    payload_off: "fail"
    scan_interval: 30

- binary_sensor:
    name: Main Gate
    command: 'ping -n -q -W 1 -c 1 main-gate.local > /dev/null 2>&1 && echo success || echo fail'
    device_class: connectivity
    payload_on: "success"
    payload_off: "fail"
    scan_interval: 30

- binary_sensor:
    name: Garage Doors
    command: 'ping -n -q -W 1 -c 1 garage-doors.local > /dev/null 2>&1 && echo success || echo fail'
    device_class: connectivity
    payload_on: "success"
    payload_off: "fail"
    scan_interval: 30

- binary_sensor:
    name: Power Meter
    command: 'ping -n -q -W 1 -c 1 electricity-pulse-counter.local > /dev/null 2>&1 && echo success || echo fail'
    device_class: connectivity
    payload_on: "success"
    payload_off: "fail"
    scan_interval: 30

- binary_sensor:
    name: Office
    command: 'ping -n -q -W 1 -c 1 office.local > /dev/null 2>&1 && echo success || echo fail'
    device_class: connectivity
    payload_on: "success"
    payload_off: "fail"
    scan_interval: 30

- binary_sensor:
    name: Tenant Mobile Phone
    command: 'ping -n -q -W 1 -c 3 tenant_mobile_phone > /dev/null 2>&1 && echo success || echo fail'
    device_class: connectivity
    payload_on: "success"
    payload_off: "fail"
    scan_interval: 15

- binary_sensor:
    name: Housekeeper Mobile Phone
    command: 'ping -n -q -W 1 -c 3 housekeeper_mobile_phone > /dev/null 2>&1 && echo success || echo fail'
    device_class: connectivity
    payload_on: "success"
    payload_off: "fail"
    scan_interval: 30

- sensor:
    name: internet_packet_loss
    command: 'ping -c 5 www.google.com 2> /dev/null | grep -o -P "(?<= )(\d+)(?=%)" || echo 100'
    unit_of_measurement: "%"
    value_template: '{{ value | int(0) }}'
    scan_interval: 180

- sensor:
    name: front_extender_packet_loss
    command: 'ping -c 5 front_extender 2> /dev/null | grep -o -P "(?<= )(\d+)(?=%)" || echo 100'
    unit_of_measurement: "%"
    value_template: '{{ value | int(0) }}'
    scan_interval: 30

- sensor:
    name: back_extender_packet_loss
    command: 'ping -c 5 back_extender 2> /dev/null | grep -o -P "(?<= )(\d+)(?=%)" || echo 100'
    unit_of_measurement: "%"
    value_template: '{{ value | int(0) }}'
    scan_interval: 30

- sensor:
    name: thor_disk_usage
    command: !secret thor_disk_usage_command
    unit_of_measurement: "%"
    value_template: '{{ value | int(0) }}'
    scan_interval: 3600

- sensor:
    name: server_cpu_temp
    command: "cat /sys/class/thermal/thermal_zone0/temp"
    # not a valid option for this platform
    # device_class: temperature
    unit_of_measurement: "Â°C"
    value_template: '{{ value | multiply(0.001) | round(2) }}'
    scan_interval: 60