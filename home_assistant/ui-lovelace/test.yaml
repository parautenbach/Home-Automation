title: Test
path: test
icon: mdi:test-tube
visible:
  - user: 75cfafa25f36464abc9116845e53f2ca
badges: []
cards:
  - type: entities
    title: Test
    entities:
      - switch.test_shelly1_relay
      - input_boolean.test
      - sensor.motion_detected_last_relative
      - binary_sensor.foyer_motion_detected
      - light.led
      - binary_sensor.foyer_motion_homebridge
      - binary_sensor.foyer_occupancy_homebridge
      - sensor.conditions_temperature
      - sensor.conditions_humidity
      - entity: input_datetime.main_gate_opened
        type: simple-entity
      - entity: input_datetime.garage_doors_lhs_opened
        type: simple-entity
      - entity: input_datetime.garage_doors_rhs_opened
        type: simple-entity
      - weather.forecast_tomorrow
      - input_number.test_percentage
    show_header_toggle: true
  # https://www.home-assistant.io/integrations/amcrest/
  # - type: picture-elements
  #   image: camera.baby_monitor_profile000
  #   camera_image: camera.baby_monitor_profile000
  #   camera_view: live
  #   elements:
  #     - type: icon
  #       icon: "mdi:arrow-up"
  #       style:
  #         background: "rgba(255, 255, 255, 0.25)"
  #         right: 25px
  #         bottom: 50px
  #       tap_action:
  #         action: call-service
  #         service: onvif.ptz
  #         data:
  #           entity_id: camera.baby_monitor_profile000
  #           tilt: UP
  #           speed: 1
  #           distance: 0.2
  #           move_mode: ContinuousMove
  #     - type: icon
  #       icon: "mdi:arrow-down"
  #       style:
  #         background: "rgba(255, 255, 255, 0.25)"
  #         right: 25px
  #         bottom: 0px
  #       tap_action:
  #         action: call-service
  #         service: onvif.ptz
  #         data:
  #           entity_id: camera.baby_monitor_profile000
  #           tilt: DOWN
  #           speed: 1
  #           distance: 0.2
  #           move_mode: ContinuousMove
  #     - type: icon
  #       icon: "mdi:arrow-left"
  #       style:
  #         background: "rgba(255, 255, 255, 0.25)"
  #         right: 50px
  #         bottom: 25px
  #       tap_action:
  #         action: call-service
  #         service: onvif.ptz
  #         data:
  #           entity_id: camera.baby_monitor_profile000
  #           pan: LEFT
  #           speed: 1
  #           distance: 0.3
  #           move_mode: ContinuousMove
  #     - type: icon
  #       icon: "mdi:arrow-right"
  #       style:
  #         background: "rgba(255, 255, 255, 0.25)"
  #         right: 0px
  #         bottom: 25px
  #       tap_action:
  #         action: call-service
  #         service: onvif.ptz
  #         data:
  #           entity_id: camera.baby_monitor_profile000
  #           pan: RIGHT
  #           speed: 1
  #           distance: 0.3
  #           move_mode: ContinuousMove
  #     - type: icon
  #       icon: "mdi:magnify"
  #       style:
  #         background: "rgba(255, 255, 255, 0.25)"
  #         bottom: 25px
  #         right: 25px
  #       tap_action:
  #         action: call-service
  #         service: amcrest.ptz_control
  #         data:
  #           entity_id: camera.baby_monitor_profile000
  #           movement: zoom_in
  #       hold_action:
  #         action: call-service
  #         service: amcrest.ptz_control
  #         data:
  #           entity_id: camera.baby_monitor_profile000
  #           movement: zoom_out
  - type: gauge
    name: Test
    entity: input_number.test_percentage
    min: -100
    max: 100
    needle: true
    severity:
      green: 10
      yellow: -10
      red: -100
  - type: markdown
    # https://github.com/thomasloven/lovelace-card-mod/issues/259
    # https://community.home-assistant.io/t/sensor-count-the-installation-mine-is-bigger-than-yours-sensor/225959/27
    # title: Components
    content: >
      Domain | Count
         :---|---:
      {% for domain in states | groupby('domain') -%}
        {%- set name = domain[0].replace('_', ' ') | title -%}
        **{{ name }}** | {{ states[domain[0]] | count }}
      {% endfor %}
      **Total** | {{ states | count }}
    card_mod:
      style:
        ha-markdown:
          $:
            ha-markdown-element: |
              table {
                border-spacing: 0;
                width: 100%;
                padding: 8px;
                border-radius: var(--ha-card-border-radius);
              }
              th {
                background-color: var(--state-icon-color);
                color: white;
                padding: 4px;
              }
              th:first-child {
                border-top-left-radius: min(var(--ha-card-border-radius)/2, 5px);
              }
              th:last-child {
                border-top-right-radius: min(var(--ha-card-border-radius)/2, 5px);
              }
              td {
                padding: 4px;
              }
              tr:nth-child(even) {
                background-color: var(--secondary-background-color);
              }
